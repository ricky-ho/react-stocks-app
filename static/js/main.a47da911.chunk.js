(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var s=c(2),a=c(10),n=c.n(a),r=(c(19),c(3)),i=c.n(r),o=c(6),l=c(5),d=c(11),j=(c(21),c(1)),h=function(e){var t=e.searchSubmit;return Object(j.jsx)("div",{className:"flex justify-center align-center",children:Object(j.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),t(e.target[0].value),e.target[0].value=""},children:[Object(j.jsx)("input",{type:"text","aria-label":"search-field",placeholder:"Search by ticker symbol",required:!0}),Object(j.jsx)("button",{type:"submit",className:"search-btn","aria-label":"search-submit",children:Object(j.jsx)(d.a,{className:"react-icons",style:{color:"#fff"}})})]})})},b=(c(23),function(e){var t=e.searchSubmit;return Object(j.jsx)("header",{className:"flex justify-center",children:Object(j.jsx)("div",{className:"flex justify-center align-center",children:Object(j.jsx)(h,{searchSubmit:t})})})}),u=(c(24),function(){return Object(j.jsxs)("footer",{className:"flex-col justify-center align-center",children:[Object(j.jsx)("a",{id:"attribution",href:"https://iexcloud.io",rel:"noopener noreferrer",target:"_blank",children:"Data provided by IEX Cloud"}),Object(j.jsx)("a",{href:"https://github.com/ricky-ho/react-stocks-search",rel:"noopener noreferrer",target:"_blank",children:"View source code"})]})}),x=function(e,t){var c=e>=0?"+":"";return"".concat(c).concat(e.toFixed(2)," (").concat(c).concat((100*t).toFixed(2),"%)")},m=function(e){var t=e.data,c=e.localeDate;return Object(j.jsxs)("section",{id:"quote",className:"display-section",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("p",{className:"font-xs font-secondary",children:[t.primaryExchange?"".concat(t.primaryExchange," | "):""," Currency in USD"]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{className:"font-xxl",children:[t.latestPrice?t.latestPrice.toFixed(2):"--",Object(j.jsxs)("span",{className:"font-m ".concat(t.change>=0?"font-green":"font-red"),children:[" ",null!==t.change&&null!==t.changePercent?x(t.change,t.changePercent):""]})]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{className:"font-xs font-secondary",children:[t.latestSource," | ",c(t.latestUpdate)," |"," ",Object(j.jsx)("a",{className:"font-xs font-tertiary no-text-decoration",href:"https://iexcloud.io",rel:"noopener noreferrer",target:"_blank",children:"IEX Cloud"})]})})]})},f=(c(25),function(e){var t=1e12;return e/t>1?"".concat((e/t).toFixed(3),"T"):e/1e9>1?"".concat((e/1e9).toFixed(2),"B"):"".concat((e/1e6).toFixed(2),"M")}),O=function(e){var t=e.data;return Object(j.jsx)("section",{id:"stats",className:"display-section",children:Object(j.jsxs)("div",{className:"stats-content flex justify-center align-center",children:[Object(j.jsx)("table",{className:"stats-table",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"Prev. Close"}),Object(j.jsx)("td",{children:t.previousClose?t.previousClose.toFixed(2):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"Open"}),Object(j.jsx)("td",{children:t.open?t.open.toFixed(2):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"High"}),Object(j.jsx)("td",{children:t.high?t.high.toFixed(2):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"Low"}),Object(j.jsx)("td",{children:t.low?t.low.toFixed(2):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"Volume"}),Object(j.jsx)("td",{children:t.latestVolume?f(t.latestVolume):"--"})]})]})}),Object(j.jsx)("table",{className:"stats-table",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"Marketcap"}),Object(j.jsx)("td",{children:t.marketCap?f(t.marketCap):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"P/E"}),Object(j.jsx)("td",{children:t.peRatio?t.peRatio:"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"52 Week High"}),Object(j.jsx)("td",{children:t.week52High?t.week52High.toFixed(2):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"52 Week Low"}),Object(j.jsx)("td",{children:t.week52Low?t.week52Low.toFixed(2):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"font-secondary",children:"Avg. Volume"}),Object(j.jsx)("td",{children:t.avgTotalVolume?f(t.avgTotalVolume):"--"})]})]})})]})})},p=c(12),y=c.n(p),g=function(e){var t=e.data,c=e.priceChange,s=function(e){return[{name:"Price",data:e.map((function(e){return[Date.parse("".concat(e.date," ").concat(e.minute)),e.close]}))}]}(t),a=function(e){var t=e>0?"#00873c":"#eb0f29";return{chart:{id:"area-datetime",type:"area",zoom:{enabled:!1},animations:{enabled:!1},fill:{enabled:!0}},dataLabels:{enabled:!1},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}},padding:{top:5}},markers:{size:0,colors:["#000"],strokeWidth:0,showNullDataPoints:!1,hover:{size:4}},stroke:{colors:[t],width:2},fill:{type:"solid",colors:[t],opacity:.4},xaxis:{type:"datetime",labels:{datetimeFormatter:{hour:"h:mm TT",minute:"h:mm TT"},datetimeUTC:!1},axisBorder:{show:!0,color:"#bcbec0"},axisTicks:{show:!0,color:"#bcbec0"},crosshairs:{show:!0,position:"back",stroke:{color:"#909090",dashArray:2}}},yaxis:{decimalsInFloat:2,axisBorder:{color:"#bcbec0"},axisTicks:{show:!0,color:"#bcbec0"},crosshairs:{show:!0,position:"back",stroke:{color:"#909090",dashArray:2}},tooltip:{enabled:!0}},tooltip:{enabled:!0,x:{formatter:function(e){return new Date(e).toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})+" EST"}},y:{formatter:function(e){return"$".concat(e.toFixed(2))}},marker:{show:!1}}}}(c);return Object(j.jsxs)("section",{id:"chart",className:"display-section flex-col",children:[Object(j.jsx)("p",{className:"text-center",children:Object(j.jsx)("strong",{className:"font-xs",children:"*Due to IEX free tier restrictions, only the intraday prices will be displayed. The data may also be incomplete, thus may not reflect the entire market day and may cause breaks in the chart."})}),Object(j.jsx)(y.a,{options:a,series:s,type:"area",height:500,width:"96%"})]})},N=c(8),v=(c(30),function(e){var t=e.data,c=e.symbol,a={width:"15px",paddingLeft:"5px"},n=Object(s.useState)(!1),r=Object(l.a)(n,2),i=r[0],o=r[1],d=Object(s.useState)(!1),h=Object(l.a)(d,2),b=h[0],u=h[1],x=Object(s.createRef)();Object(s.useEffect)((function(){(x.current.clientWidth<x.current.scrollWidth||x.current.clientHeight<x.current.scrollHeight)&&u(!0)}),[x]),Object(s.useEffect)((function(){x.current.style.height=i?"100%":"12.3rem"}),[x,i]);return Object(j.jsxs)("section",{id:"company",className:"display-section",children:[Object(j.jsxs)("h2",{className:"font-m section-title",children:["About ",c]}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{id:"company-profile",className:"flex",children:Object(j.jsx)("table",{children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Sector"}),Object(j.jsx)("td",{className:"font-secondary",children:t.sector?t.sector:"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Industry"}),Object(j.jsx)("td",{className:"font-secondary",children:t.industry?t.industry:"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"CEO"}),Object(j.jsx)("td",{className:"font-secondary",children:t.CEO?t.CEO:"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Employees"}),Object(j.jsx)("td",{className:"font-secondary",children:t.employees?t.employees.toLocaleString("en-US"):"--"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Headquarters"}),Object(j.jsx)("td",{className:"font-secondary",children:t.city&&t.state?"".concat(t.city,", ").concat(t.state):"--"})]})]})})}),t.description?Object(j.jsxs)("div",{className:"flex-col align-center",children:[Object(j.jsx)("div",{id:"company-description",ref:x,className:"font-secondary ".concat(b&&!i?"fade-active":""),children:t.description}),b&&Object(j.jsxs)("button",{className:"expand-btn font-xs font-tertiary flex justify-center align-center",type:"text",onClick:function(){o(!i)},children:[i?"Fold":"More",i?Object(j.jsx)(N.b,{className:"react-icons",style:a}):Object(j.jsx)(N.a,{className:"react-icons",style:a})]})]}):Object(j.jsx)("div",{ref:x,className:"flex justify-center align-center",children:Object(j.jsx)("p",{className:"font-m",children:"Company description not available."})})]})]})}),w=(c(31),function(e){var t=e.data,c=e.localeDate;return Object(j.jsx)("a",{className:"no-text-decoration font-m font-primary",href:t.url,rel:"noopener noreferrer",target:"_blank","aria-label":"View the full article: ".concat(t.headline),children:Object(j.jsxs)("article",{className:"newscard flex",children:[Object(j.jsx)("div",{className:"img-container",children:Object(j.jsx)("img",{src:t.image,alt:"".concat(t.headline)})}),Object(j.jsxs)("div",{className:"newscard-content flex-col",children:[Object(j.jsx)("h3",{className:"font-sm",children:t.headline},t.url),Object(j.jsxs)("p",{className:"font-secondary",children:[t.source," | ",c(t.datetime)]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"font-primary",children:t.summary})})]})]})})}),k=(c(32),function(e){var t=e.data,c=e.localeDate;return Object(j.jsxs)("section",{id:"news",className:"display-section",children:[Object(j.jsx)("h2",{className:"font-m section-title",children:"Recent News"}),t.length>0?t.map((function(e,t){return Object(j.jsx)(w,{data:e,localeDate:c},t)})):Object(j.jsx)("div",{id:"empty-news",className:"flex justify-center",children:Object(j.jsx)("p",{className:"font-sm text-center",children:"No recent news found."})})]})}),S=(c(33),function(e){var t=e.data,c=e.localeDate;return 0===Object.keys(t).length||t.error?Object(j.jsx)("main",{className:"flex justify-center ",children:Object(j.jsxs)("div",{id:"error",className:"font-xl",children:[t.status?t.status:"Error"," -"," ",t.message?t.message:t.status>=500?"Something went wrong. Please try again later":"Symbol not found"]})}):Object(j.jsxs)("main",{className:"flex-col",children:[Object(j.jsxs)("div",{className:"flex-col separator",children:[Object(j.jsxs)("h1",{id:"title",className:"font-l",children:["(",t.quote.symbol,") ",t.quote.companyName]}),Object(j.jsxs)("div",{id:"main-details",className:"flex main",children:[Object(j.jsx)(m,{data:t.quote,localeDate:c}),Object(j.jsx)(O,{data:t.quote})]})]}),Object(j.jsx)("div",{className:"separator",children:Object(j.jsx)(g,{data:t["intraday-prices"],priceChange:t.quote.change})}),Object(j.jsx)("div",{className:"separator",children:Object(j.jsx)(v,{data:t.company,symbol:t.quote.symbol})}),Object(j.jsx)(k,{data:t.news,localeDate:c})]})}),C=c(9),E=function(){var e=Object(o.a)(i.a.mark((function e(t){var c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://cloud.iexapis.com/stable/stock/".concat(t,"/batch?types=quote,company,news,intraday-prices&last=3&token=").concat("pk_395b589bbe8d4562af134c19ce9b1026"));case 3:if((c=e.sent).ok){e.next=6;break}return e.abrupt("return",T(c));case 6:return e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",Object(C.a)(Object(C.a)({},s),{},{error:!1,quote:D(s.quote),company:F(s.company)}));case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){return{symbol:e.symbol,companyName:e.companyName,primaryExchange:e.primaryExchange,open:e.open,previousClose:e.previousClose,high:e.high,low:e.low,latestPrice:e.latestPrice,latestSource:e.latestSource,latestUpdate:e.latestUpdate,latestVolume:e.latestVolume,volume:e.volume,avgTotalVolume:e.avgTotalVolume,change:e.change,changePercent:e.changePercent,week52High:e.week52High,week52Low:e.week52Low,peRatio:e.peRatio,marketCap:e.marketCap}},F=function(e){return{description:e.description,CEO:e.CEO,employees:e.employees,sector:e.sector,industry:e.industry,city:e.city,state:e.state}},T=function(e){return{error:!0,status:e.status,message:e.statusText}},L=c(37),P=function(){var e=Object(s.useState)({}),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!0),r=Object(l.a)(n,2),d=r[0],h=r[1],x=function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,E(t);case 3:c=e.sent,a(c),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("TSLA");case 2:t=e.sent,a(t),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)("div",{className:"flex-col align-center ",children:[Object(j.jsx)(b,{searchSubmit:x}),Object(j.jsx)("div",{id:"App",className:"App flex justify-center align-center",children:d?Object(j.jsx)(L.a,{animation:"border",variant:"primary",role:"status",children:Object(j.jsx)("span",{"aria-label":"Loading",style:{display:"none",color:"#1262ec"},children:"Loading..."})}):Object(j.jsx)(S,{data:c,localeDate:function(e){return new Date(e).toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZone:"America/New_York",timeZoneName:"short"})}})}),Object(j.jsx)(u,{})]})};c(34);n.a.render(Object(j.jsx)(P,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a47da911.chunk.js.map